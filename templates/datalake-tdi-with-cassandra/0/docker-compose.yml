version: "2"
services:
   cassandra:
       image: cassandra:3
       ports:
          - "${TDI_CASSANDRA_PORT}:9042"
       environment:
           TDI_CASSANDRA_PORT: "${TDI_CASSANDRA_PORT}"
       
   datalake-tdi:
       image: docker.skidata.net/datalake.tdi:0.0.1-SNAPSHOT
       depends_on: 
          - cassandra
       links: 
          - cassandra
       mem_limit: 1024m
       ports:
           - "${PORT}:8080"
       environment:
           TDI_CASSANDRA_CONTACT_POINTS: cassandra
           TDI_CASSANDRA_PORT: "${TDI_CASSANDRA_PORT}"